Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 821701B7B1B
	for <lists+alsa-devel@lfdr.de>; Fri, 24 Apr 2020 18:08:29 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 0908716C5;
	Fri, 24 Apr 2020 18:07:39 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 0908716C5
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1587744509;
	bh=uBgi0ly6J0E2C16oolKEtobx3m22M+p6XiwSmO2kJIA=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=PfMM/Nm1r/d0xazrskaKLlrn+yKqHc+M3mZAmtTU/qlk9T0a0aBVTQYxFEmd2VcoJ
	 XQcfM7enIhhUH2HxLemjarnyYTWPnMbAdiFVTiaAJfDmyiTAq+RY981kMDo2LvyRbu
	 8wwo2WDLBc/C1MAdvG84boPbspPE7+8HBHZ3g67o=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 283BBF801D9;
	Fri, 24 Apr 2020 18:06:48 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 88CFAF80142; Fri, 24 Apr 2020 18:06:44 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id C3607F80116
 for <alsa-devel@alsa-project.org>; Fri, 24 Apr 2020 18:06:41 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz C3607F80116
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 53B6CACCE;
 Fri, 24 Apr 2020 16:06:38 +0000 (UTC)
Date: Fri, 24 Apr 2020 18:06:38 +0200
Message-ID: <s5h368sswa9.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Subject: Re: [PATCH] ASoC: snd-sof-intel-hda-common - add hda_model parameter
 and pass it to HDA codec driver
In-Reply-To: <28900433-f2a7-bf4e-7861-5522f0aedee1@linux.intel.com>
References: <20200424092520.23989-1-perex@perex.cz>
 <alpine.DEB.2.21.2004241517530.2957@eliteleevi.tm.intel.com>
 <s5hk125rr82.wl-tiwai@suse.de>
 <28900433-f2a7-bf4e-7861-5522f0aedee1@linux.intel.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Cc: ALSA development <alsa-devel@alsa-project.org>,
 Mark Brown <broonie@kernel.org>, Kai Vehmanen <kai.vehmanen@linux.intel.com>
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Fri, 24 Apr 2020 17:44:27 +0200,
Pierre-Louis Bossart wrote:
> 
> 
> 
> >> Hmm, I wonder is this now doing more harm than good. Based on browsing
> >> through the related code in hda-codec.c and friends, it would seem
> >> "sofbus" as the default is mostly harmless, but I could have missed
> >> something.
> >
> > That's currently harmless since no codec driver defines "sofbus"
> > model, hence the HDA parser continues to match with the default
> > quirks. OTOH, the fixed "sofbus" model is fairly useless.  So, feel
> > free to take my ack, too:
> 
> For my education, are you saying that the default should be that the
> modelname is NULL, and the hda auto parser will use known quirks based
> on PCI/SSID information, and when the user sets the model name to a
> non-NULL string it will force a specific quirk to be used?

Yes.  If the given string matches with the pre-defined table, the
quirk entry is used and applied.  If no string is given or it doesn't
match, it continues to the fallback quirk, that is, matching with PCI
SSID, then codec SSID.


Takashi
