Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 251FAB470D
	for <lists+alsa-devel@lfdr.de>; Tue, 17 Sep 2019 07:49:58 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 21CC9167C;
	Tue, 17 Sep 2019 07:49:07 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 21CC9167C
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1568699397;
	bh=APapezZ+NyosBlE97JH5kLDdHEjgC26+D8+KUVBftOc=;
	h=Date:From:To:In-Reply-To:References:Cc:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=LrgY1BV4Ls6LA7Xgwp02WthEzePhMupb8uOlJpczj8HVXmS6yIUSnxk3jLsaz3MEE
	 bi1MaQyZJYPitryKtn6pmyAocDY89321jl4sxMPipargITdf4309ZWrI3GZ5bhKgDI
	 1SKAwilnarsllh7k0EqFwf8gSUBXYgHfQ9ecXOd4=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id DD7CFF805F9;
	Tue, 17 Sep 2019 07:48:05 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 49A13F805FA; Tue, 17 Sep 2019 07:48:04 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=SPF_HELO_NONE,SPF_PASS
 autolearn=disabled version=3.4.0
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 7B17AF805A1
 for <alsa-devel@alsa-project.org>; Tue, 17 Sep 2019 07:48:00 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 7B17AF805A1
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id F3C3AB028;
 Tue, 17 Sep 2019 05:47:59 +0000 (UTC)
Date: Tue, 17 Sep 2019 07:47:59 +0200
Message-ID: <s5h8sqnxyls.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: James McDonnell <james_mcdonnell@hotmail.com>
In-Reply-To: <QB1PR01MB2337BA2543740D9C07585D4E808C0@QB1PR01MB2337.CANPRD01.PROD.OUTLOOK.COM>
References: <QB1PR01MB2337D0367C2E3ADB0010134F808C0@QB1PR01MB2337.CANPRD01.PROD.OUTLOOK.COM>
 <s5hftkvykp9.wl-tiwai@suse.de>
 <QB1PR01MB2337BA2543740D9C07585D4E808C0@QB1PR01MB2337.CANPRD01.PROD.OUTLOOK.COM>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Cc: "alsa-devel@alsa-project.org" <alsa-devel@alsa-project.org>
Subject: Re: [alsa-devel] [PATCH] ALSA: hda/realtek - Fix alienware headset
	mic
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Tue, 17 Sep 2019 00:07:56 +0200,
James McDonnell wrote:
> 
> On Mon, Sep 16, 2019 at 11:50:42PM +0200, Takashi Iwai wrote:
> > On Mon, 16 Sep 2019 16:53:38 +0200,
> > James McDonnell wrote:
> > > @@ -7680,6 +7690,11 @@ static const struct snd_hda_pin_quirk alc269_pin_fixup_tbl[] = {
> > >  		{0x17, 0x90170110},
> > >  		{0x1a, 0x03011020},
> > >  		{0x21, 0x03211030}),
> > > +	SND_HDA_PIN_QUIRK(0x10ec0298, 0x1028, "Dell", ALC298_FIXUP_ALIENWARE_MIC_NO_PRESENCE,
> > > +		{0x12, 0xb7a60140},
> > > +		{0x17, 0x90170110},
> > > +		{0x1a, 0x03a11030},
> > > +		{0x21, 0x03211020}),
> > 
> > It's a slightly uncertain whether this is 100% safe to apply via the
> > pin-quirk table, but also there is no big other reason to push back,
> > so I applied it now.
> 
> I've been running with this patched to my kernel for a while now.
> Any particular things I should do to test?

Not in your side.  My concern is whether this may hit too widely to
other devices falsely because it's matching with the pin config
patterns.  The alternative is to match with PCI (or codec) SSID.

But the pin config matching is done in a lower priority, so let's hope
my afraid isn't true :)


thanks,

Takashi

> Some background on how I got to this patch was I couldn't get the mic
> to work with a TRRS pinout headset. I discovered that if I set modprobe
> options for laptop-amic and dell-headset-multi in a particular order
> the mic would start working. I worked backwards to find this
> solution.
> 
> > 
> > 
> > Thanks!
> > 
> > Takashi
> 
> Cheers,
> James
> 
_______________________________________________
Alsa-devel mailing list
Alsa-devel@alsa-project.org
https://mailman.alsa-project.org/mailman/listinfo/alsa-devel
