Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id D018A196BF8
	for <lists+alsa-devel@lfdr.de>; Sun, 29 Mar 2020 11:01:49 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 664CE1679;
	Sun, 29 Mar 2020 11:00:59 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 664CE1679
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1585472509;
	bh=y/LZyut0UDd0F7IjozPC+F085pk5AQB465sSjr5yyK8=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=Gw4dbYabHJfRVrR6Par1wXaHPWfLe3aogBwkc/TOaTCRGQeEgpkx4yum6Jy/fYgjv
	 fuZ1Rpsa7urz+H6P5OXu2JsXPgp4PFvQGiRBjzE1mVntItQXNPr1Ve+kJgDyDrdAal
	 Gt/0LFrTMSNdLBl7f9pGYGrksz4Ru1OSDV3w51VY=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 49C7DF8013F;
	Sun, 29 Mar 2020 11:00:08 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 4372AF80146; Sun, 29 Mar 2020 11:00:03 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS,URIBL_BLOCKED autolearn=disabled
 version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id C07DFF800B5
 for <alsa-devel@alsa-project.org>; Sun, 29 Mar 2020 10:59:55 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz C07DFF800B5
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 73AE5AE4E;
 Sun, 29 Mar 2020 08:59:55 +0000 (UTC)
Date: Sun, 29 Mar 2020 10:59:55 +0200
Message-ID: <s5hd08vcz90.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: =?UTF-8?B?5bCk5pmT5p2w?= <yxj790222@163.com>
Subject: Re: about alc880 no sound and eapd coef
In-Reply-To: <1748481.d5c7.170c02da914.Coremail.yxj790222@163.com>
References: <1748481.d5c7.170c02da914.Coremail.yxj790222@163.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Cc: alsa-devel@alsa-project.org
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Mon, 09 Mar 2020 17:43:02 +0100,
尤晓杰 wrote:
> 
> dear friend, I am using ecs g420 laptop, use options snd-hda-intel model=generic the speaker and mic correctly, 2 pop sounds,when the kernel load(left channel) and the x11 load(right channel), but with standard way  only one pop sound when kernel load and silent always. the mic is ok. I have got  datasheet of alc880 and see the eapd function, but in your code I see this need coef parameter. so what should I write using verb to open eapd? the attachment is the schematic of sound part.in summary: the 0x14 hp out, 0x18 mic in,0x1c cd in, 0x1e spif out, no jack sense. eapd shared with spdif in. all are correct with default of datasheet's describe. I use verb to dectt each pin widget's capability , take 0x14 as exaple, no eapd capability.To set 0x14's eapd with hda-verb /dev/snd/hwC0D0 0x70c 0x2, failed to read it again alwas 0. and bios also reported 0x16, I think it is bios's bug. I what to use "Early Patching" method to deal with it without changing source code, is it feasible? could
  you give me some idea? thanks!!!!

Yes, you can write most of things in the early patching via firmware
load.  But the very first thing is to make the board working with
hda-verb.  Once after finding out the verb combo, it's easy to put it
in the early firmware file or even creating a kernel patch.


Takashi
