Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 48C89E3214
	for <lists+alsa-devel@lfdr.de>; Thu, 24 Oct 2019 14:16:59 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id C557616BC;
	Thu, 24 Oct 2019 14:16:08 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz C557616BC
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1571919418;
	bh=ECcwdjnbPJjvzkcTO1CIlcAGdqW10KULiEKlqq1Cz3Y=;
	h=Date:From:To:In-Reply-To:References:Cc:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=StvsR61zCq9eAX4MKBU11l6IX7JgzpuGBdBoz+G5H08fOyD323yRtgAwxGlDrG/Is
	 9oVwtdBHBeWqcHUPQ2guB6TkS31ShKlcdkrAn4zC2bKa7zgYZhBv36zd8pjMbQwymV
	 IrzohaREuZLrN0FmzvsFvGNQavao/vDXvWgeX8rI=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 5EC54F8036B;
	Thu, 24 Oct 2019 14:15:14 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 31E6BF8036B; Thu, 24 Oct 2019 14:15:11 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=SPF_HELO_NONE,SPF_PASS
 autolearn=disabled version=3.4.0
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id CA1F5F80137
 for <alsa-devel@alsa-project.org>; Thu, 24 Oct 2019 14:15:08 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz CA1F5F80137
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id CC540AD79;
 Thu, 24 Oct 2019 12:15:07 +0000 (UTC)
Date: Thu, 24 Oct 2019 14:15:07 +0200
Message-ID: <s5hzhhqwd9w.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Mark Brown <broonie@kernel.org>
In-Reply-To: <20191024113444.GF5207@sirena.co.uk>
References: <20191023161203.28955-1-jbrunet@baylibre.com>
 <s5ha79rph1j.wl-tiwai@suse.de>
 <1jv9sfcpr8.fsf@starbuckisacylon.baylibre.com>
 <20191024113444.GF5207@sirena.co.uk>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Cc: Liam Girdwood <lgirdwood@gmail.com>, alsa-devel@alsa-project.org,
 Russell King <rmk+kernel@armlinux.org.uk>, linux-kernel@vger.kernel.org,
 Jerome Brunet <jbrunet@baylibre.com>
Subject: Re: [alsa-devel] [PATCH 0/2] ASoC: hdmi-codec: fix locking issue
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Thu, 24 Oct 2019 13:34:44 +0200,
Mark Brown wrote:
> 
> On Wed, Oct 23, 2019 at 07:53:31PM +0200, Jerome Brunet wrote:
> 
> > With the revert, we are back to the bit ops. Even if it works, Mark's
> > original comment on the bit ops still stands I think. This is why I'm
> > proposing patch 2 but I don't really mind if it is applied or not.
> 
> Yeah, it's not *required* but the atomic operations have lots of spiky
> edges so a simpler locking construct would have less chance of running
> into trouble later when someone's updating the code.

If that's the reason, it should be mentioned specifically in the
commit.  That is, it's not about functionality or efficiency but just
about the code readability.


thanks,

Takashi
_______________________________________________
Alsa-devel mailing list
Alsa-devel@alsa-project.org
https://mailman.alsa-project.org/mailman/listinfo/alsa-devel
