Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id A891E43121B
	for <lists+alsa-devel@lfdr.de>; Mon, 18 Oct 2021 10:26:37 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 325EF179F;
	Mon, 18 Oct 2021 10:25:47 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 325EF179F
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1634545597;
	bh=V4poEeilWahmJSsCLLDPIRW2QncEa32MVCC2w2gXVWw=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=OvszavGosvFRDROD4+n2iUku09fyG9+JpgBUWFed2iCDqJbyb6NwYavnmJnOOK2/2
	 gO1ZrkSm3tT/FrqOVbKkgJmgyZHb7XHBCXsWzSMjbdgwp8NtpZUQ17i0z1v29FLp2O
	 aQDjMa4YARrxvbOn/1T1W7PmS5z/aC3gbzHfaue4=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 6F424F80253;
	Mon, 18 Oct 2021 10:25:20 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 9539BF80224; Mon, 18 Oct 2021 10:25:18 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=-0.1 required=5.0 tests=DKIM_SIGNED,DKIM_VALID,
 DKIM_VALID_AU,SPF_HELO_NONE,SPF_NONE,URIBL_BLOCKED autolearn=disabled
 version=3.4.0
Received: from smtp-out1.suse.de (smtp-out1.suse.de [195.135.220.28])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256 (128/128 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 7DA79F80159
 for <alsa-devel@alsa-project.org>; Mon, 18 Oct 2021 10:25:11 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 7DA79F80159
Authentication-Results: alsa1.perex.cz;
 dkim=pass (1024-bit key) header.d=suse.de header.i=@suse.de
 header.b="aYAruD5y"; 
 dkim=permerror (0-bit key) header.d=suse.de header.i=@suse.de
 header.b="Hzsvm3iE"
Received: from relay2.suse.de (relay2.suse.de [149.44.160.134])
 by smtp-out1.suse.de (Postfix) with ESMTP id C022421958;
 Mon, 18 Oct 2021 08:25:10 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
 t=1634545510; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=HmOxnYIN/JtYiTvnNyVkBnhTyQqcTIwosHoze0UQgkk=;
 b=aYAruD5yOyRY7Tnqr21nO45/fADo966Mtqa9lJk18TW8RxYqP2MK7pyVShtiroFjMRCBAz
 XHf+JuuLLIUH/qyccsUBBd3vIBBhybIkUcXhVnbC01LlpegbNe3Vy1fLngv/AaP8/V9ubu
 xFqKttookvwkdl0mXEK29hAjbIDq8JQ=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
 s=susede2_ed25519; t=1634545510;
 h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
 mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding:
 in-reply-to:in-reply-to:references:references;
 bh=HmOxnYIN/JtYiTvnNyVkBnhTyQqcTIwosHoze0UQgkk=;
 b=Hzsvm3iEqK/jpkl8jZwaPSFw+FxSKSx8m7UFLJAY5joqdY1+NHQIV4qkfz2vvCe97+n6y8
 ICL7aP4cCfS4wTAA==
Received: from alsa1.suse.de (alsa1.suse.de [10.160.4.42])
 by relay2.suse.de (Postfix) with ESMTP id A9917A3B83;
 Mon, 18 Oct 2021 08:25:10 +0000 (UTC)
Date: Mon, 18 Oct 2021 10:25:10 +0200
Message-ID: <s5hbl3m68pl.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Cezary Rojewski <cezary.rojewski@intel.com>
Subject: Re: [PATCH 1/5] ALSA: hda: Drop device-argument in NHLT functions
In-Reply-To: <fe697391-339d-5874-4959-8f0f436280f3@intel.com>
References: <20211015164047.44492-1-cezary.rojewski@intel.com>
 <20211015164047.44492-2-cezary.rojewski@intel.com>
 <bb2b223e-6318-ed3c-bbe8-31ba4b8d02fe@linux.intel.com>
 <s5hr1ck5bqu.wl-tiwai@suse.de>
 <fe697391-339d-5874-4959-8f0f436280f3@intel.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Cc: alsa-devel@alsa-project.org, tiwai@suse.com,
 Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>,
 hdegoede@redhat.com, broonie@kernel.org,
 Amadeusz SX2awiX4ski <amadeuszx.slawinski@linux.intel.com>
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Mon, 18 Oct 2021 10:08:30 +0200,
Cezary Rojewski wrote:
> 
> On 2021-10-17 9:52 AM, Takashi Iwai wrote:
> > On Fri, 15 Oct 2021 18:42:33 +0200,
> > Pierre-Louis Bossart wrote:
> >> On 10/15/21 11:40 AM, Cezary Rojewski wrote:
> >>> From: Amadeusz Sławiński <amadeuszx.slawinski@linux.intel.com>
> >>>
> >>> ACPI is device independent, so printing warnings using device functions
> >>> is misleading. Replace dev_xxx() with pr_xxx() and remove now
> >>> unnecessary argument.
> >>
> >> the routines in sound/hda/intel-nhtl.c are called from a specific PCI
> >> device, why would you remove that information?
> >>
> >> This makes no sense to me.
> >
> > Right, otherwise this change would confuse user, too; they'll be
> > clueless about who triggers it.
> >
> > It's OK to change to pr_*(), but then it should have more information
> > that can be easily identified and understood what user should do.
> 
> Isn't the answer as to 'who' used it obvious, though? NHLT is used for
> I2S and DMIC endpoints only, so the question is 'limited' in the first
> place. And then, you cannot have several Intel ADSP drivers running
> simultaneously.

Well, it's not about you or devs -- those must know which driver is
relevant very well, of course.  Instead, the problem is for *all*
others who read the message.

IOW, which user would know and think "hey, it's a NHLT thingy that
must be ASoC xxx driver that spewed" only from the text snippet "NHLT
table not found"?  That's way too much expectation.  Some more
guidance is needed in the error message.  The dev_*() variant gave at
least the device names that can help guessing the relevant driver
easily.

> Also, logs found ACPI-table interface are device-less so this patch
> makes NHLT interface look more ACPI-generic alike.

The conversion itself is no problem, but the lost information is the
problem.


Takashi
