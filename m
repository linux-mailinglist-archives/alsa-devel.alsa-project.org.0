Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 5D7211C577F
	for <lists+alsa-devel@lfdr.de>; Tue,  5 May 2020 15:54:10 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id DDF781744;
	Tue,  5 May 2020 15:53:19 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz DDF781744
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1588686849;
	bh=Oh52G6YJiUs8sTXiKSlqzXnSwLPzzLNZYWHWiia688s=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=fiwGyMNWOEsnKQmol0F+ImNQ4DGc2D6HcwPhPhWiMCZDv063sKcGxO1wgWdAEGm6P
	 sutHJgb1vGjIjj8R4uuFAD7b3lgVfEr9gl6nPDOfXMSBQGtZazL/LDQhqLScGRbrqy
	 VoQAGle8HOTURqm5CuDEHR9tLE5EUSaPpJxrdcJI=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id EB511F80162;
	Tue,  5 May 2020 15:52:28 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id CEE6CF8015F; Tue,  5 May 2020 15:52:26 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id E4766F800DE
 for <alsa-devel@alsa-project.org>; Tue,  5 May 2020 15:52:21 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz E4766F800DE
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id A5DA9AD76;
 Tue,  5 May 2020 13:52:22 +0000 (UTC)
Date: Tue, 05 May 2020 15:52:19 +0200
Message-ID: <s5heerybib0.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: =?UTF-8?B?RlLDiUTDiVJJQw==?= RECOULES
 <frederic.recoules@univ-grenoble-alpes.fr>
Subject: Re: [PATCH] [inline assembly] fix pcm_dmix_i386.h assembly chunk
 interfaces
In-Reply-To: <771384288.121039.1588620316734.JavaMail.zimbra@univ-grenoble-alpes.fr>
References: <20200427165707.17570-1-frederic.recoules@univ-grenoble-alpes.fr>
 <s5h4kt2ln5s.wl-tiwai@suse.de>
 <640422029.9300033.1588239716857.JavaMail.zimbra@univ-grenoble-alpes.fr>
 <771384288.121039.1588620316734.JavaMail.zimbra@univ-grenoble-alpes.fr>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Cc: alsa-devel <alsa-devel@alsa-project.org>,
 frederic recoules <frederic.recoules@orange.fr>
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Mon, 04 May 2020 21:25:16 +0200,
FRÉDÉRIC RECOULES wrote:
> 
> Hi Takashi,
> 
> I would like an update on the review process ([PATCH */6 V2] [pcm_dmix
> assembly])
> 
> As a reminder, I split the changes in 6 distinct patches.
> The 3 first patches produce exactly the same binary output, so they do not
> need testing.
> The 4th one has just some minor change due to the fact that I added an
> instruction -- I am highly confident it breaks nothing.

The compile tests passed with a few different compiler set, so that's
good.  But there were some issues with the patch format.  IIRC, the
patch 2 couldn't be applied to the latest git tree cleanly (some space
letter issues?), so I had to manually modify it.

Also, some style issues:

- Please avoid a prefix like "[configure]" in the subject.
  The prefix with "[PATCH xxx]" is good, and this should remain, but
  the next prefix should be "configure:" instead.  Otherwise the
  prefix with the brackets are pruned at applying a patch via git-am.

- Please give more texts about why the change is done.
  In all your patches, there are no explanations why you change it.
  It's often more important than describing what you're changing.
  For example, the patch 2 "change the token by symbolic names".  Why
  is this needed to be symbolic names?  Write some more information in
  each patch description.

- We usually use #ifdef without space between "#" and "ifdef".
  Let's keep that style consistently.

> If you need I test the 2 last ones (that reduce the size of the produced
> binary), could you point me out what test I should run?

We need at least some build tests with different compiler versions and
check whether dmix actually works (not necessarily on all of them but
some of those compiled results).

> Meanwhile, my deadline comes and I would really appreciate to see the patches
> applied by wednesday night.

If you can work on the above and resubmit v3 patchset, I'll happily
apply them.


Thanks!

Takashi
