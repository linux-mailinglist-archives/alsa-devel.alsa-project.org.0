Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id B40F9296D67
	for <lists+alsa-devel@lfdr.de>; Fri, 23 Oct 2020 13:13:55 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 565F9181E;
	Fri, 23 Oct 2020 13:13:05 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 565F9181E
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1603451635;
	bh=+8T3dvDMkKBqGQxj03J9xLaiU2eU9IFhaH4qjTzn73k=;
	h=Date:From:To:Subject:In-Reply-To:References:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=mp1ddXgUgdH79EqH+AzzEE4aVvzvh+hLaUlVD8iYucnbhNnWCcIhBzr84T+NI6k67
	 TapIfsKQ+a/CQWlJ1icRFkWlJQpMnfJFdw58/MG36/xBWklVcBqtXJ7Iu7y6/0cnC+
	 A9gwOnIO2WWBweLVrs6wdSmO7ypKSk8s08xVbMz4=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id A6C4FF80264;
	Fri, 23 Oct 2020 13:12:22 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 5ABB3F80245; Fri, 23 Oct 2020 13:12:20 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: *
X-Spam-Status: No, score=1.0 required=5.0 tests=PRX_BODY_30, RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS,URIBL_BLOCKED autolearn=disabled
 version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 62344F800BD
 for <alsa-devel@alsa-project.org>; Fri, 23 Oct 2020 13:12:13 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 62344F800BD
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
 by mx2.suse.de (Postfix) with ESMTP id 5A64CABD1
 for <alsa-devel@alsa-project.org>; Fri, 23 Oct 2020 11:12:13 +0000 (UTC)
Date: Fri, 23 Oct 2020 13:12:13 +0200
Message-ID: <s5ho8kt8acy.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: alsa-devel@alsa-project.org
Subject: Re: [alsa-cvslog] [ALSA GIT]ALSA utilities repository branch master
 updated. v1.2.4-1-g0c5948e
In-Reply-To: <20201023094126.011CBF80253@alsa1.perex.cz>
References: <20201023094126.011CBF80253@alsa1.perex.cz>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Fri, 23 Oct 2020 11:41:25 +0200,
GIT server wrote:
> 
> This is an automated email from the git hooks/post-receive script. It was
> generated because a ref change was pushed to the repository containing
> the project "ALSA utilities repository".
> 
> The branch, master has been updated
>        via  0c5948e98a6a8535c89b7bcab13017d7732181c6 (commit)
>       from  b2ae0b074669f976c53a52bcd0129227321f88c9 (commit)
> 
> Those revisions listed above that are new to this repository have
> not appeared on any other notification email; so we list those
> revisions in full, below.
> 
> - Log -----------------------------------------------------------------
> commit 0c5948e98a6a8535c89b7bcab13017d7732181c6
> Author: Hui Wang <hui.wang@canonical.com>
> Date:   Fri Oct 23 16:47:10 2020 +0800
> 
>     aplay: try to use 16-bit format to increase capture quality
>     
>     Recently users reported a bug, I tested it and found it is a common
>     issue on Laptop or Desktop machines.
>     
>     The issue is users plug a headset and use "arecord test.wav" to
>     record a sound with default input volume, the recorded sound has
>     poor quality and nearly can't distinguish it is the sound we want
>     to record.
>     
>     This is because the input volume is low and the default format is U8.
>     The driver records sound with 16bit, because the input volume is low,
>     most of samples are within (-256,+256), when converting 16bit to U8,
>     those samples will be 0x7f. This is called quantization noise and we
>     could only workaround it by increase the input volume or adding -f to
>     arecord.
>     
>     But users want to record a better quality sound with default input
>     volume (after installing a new OS, the volume is the default volume),
>     and they don't want to add parameters to the arecord because most of
>     new linux users just use "arecord test.wav".
>     
>     So this patch tries to change the default format from U8 to S16_LE/BE.
>     If the machine doesn't support S16_LE/BE, it still uses U8 as default
>     format.
>     
>     Signed-off-by: Hui Wang <hui.wang@canonical.com>
>     Signed-off-by: Jaroslav Kysela <perex@perex.cz>

This brought a slight concern about the compatibility, as the tool is
very old and used in many places.  But a right usage is always with
the proper option, so maybe this won't break too many things
(hopefully).

Though, this change made me wonder why we don't have any default
configuration for aplay/arecord.  With that, you can adjust it per
user or per distro.  Would it bring more benefit?


thanks,

Takashi
