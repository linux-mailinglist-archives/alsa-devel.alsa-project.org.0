Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id BE0018E4AF
	for <lists+alsa-devel@lfdr.de>; Thu, 15 Aug 2019 08:00:25 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 326531660;
	Thu, 15 Aug 2019 07:59:35 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 326531660
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1565848825;
	bh=Q9m49RAG3tS5m63X4g3oA47f7us9NgD2puyt0aWN890=;
	h=Date:From:To:In-Reply-To:References:Cc:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=rIWEuAQqnIFqN6m85kHdOU7UBNfKRqp2P54z7H1v0O7KZBQ7sd+Vu3rycYT2fLGEE
	 s/nEtKnF+oVfxp+SA38WL41y9PH1pYVIs+Yn80olSw6+t/Gyt81cWDIy0EtMd38Gvq
	 6+DB9WbO9CVjxDEkh9RIL6+LKK31C2X/wB0Yfq0A=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 4B124F80273;
	Thu, 15 Aug 2019 07:58:41 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 93A65F80274; Thu, 15 Aug 2019 07:58:38 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=SPF_HELO_NONE,SPF_PASS,
 URIBL_BLOCKED autolearn=disabled version=3.4.0
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 1C3DCF801DF
 for <alsa-devel@alsa-project.org>; Thu, 15 Aug 2019 07:58:34 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 1C3DCF801DF
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 2135FAFBD;
 Thu, 15 Aug 2019 05:58:33 +0000 (UTC)
Date: Thu, 15 Aug 2019 07:58:32 +0200
Message-ID: <s5hv9uz9dh3.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: <jeronimo@borque.com.ar>
In-Reply-To: <20190815013824.13373-1-jeronimo@borque.com.ar>
References: <20190815013824.13373-1-jeronimo@borque.com.ar>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Cc: alsa-devel@alsa-project.org
Subject: Re: [alsa-devel] [PATCH] ALSA: hda - Fixes inverted Conexant GPIO
	mic mute led
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Thu, 15 Aug 2019 03:38:24 +0200,
<jeronimo@borque.com.ar> wrote:
> 
> From: Jeronimo Borque <jeronimo@borque.com.ar>
> 
> "enabled" parameter historically referred to the device input or
> output, not to the led indicator. After the changes added with the
> led helper functions the mic mute led logic refers to the led and not
> to the mic input which caused led indicator to be negated (Mic mute
> led was on when the input enabled) Fixing it in the call to
> cxt_update_gpio_led at the cxt_gpio_micmute_update hook.
> Maybe more changes are required to be consistent everywhere.
> 
> Signed-off-by: Jeronimo Borque <jeronimo@borque.com.ar>

Could you check which value you have in "Mic Mute-LED Mode" mixer
element?  I guess it's "Follow Mute".  If so, change it to "Follow
Capture".

If this works, it means that the driver works as expected but the
problem is only about the default value.  The default value set in the
generic parser is based on other machine's standard (LED on at mic
off), while some machines might expect differently.  On such machines,
we need to set the different value initially in the quirk fixup.


thanks,

Takashi
_______________________________________________
Alsa-devel mailing list
Alsa-devel@alsa-project.org
https://mailman.alsa-project.org/mailman/listinfo/alsa-devel
