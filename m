Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id B365F35ABFB
	for <lists+alsa-devel@lfdr.de>; Sat, 10 Apr 2021 10:48:58 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 44965166B;
	Sat, 10 Apr 2021 10:48:08 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 44965166B
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1618044538;
	bh=pDbr+5Y+4XUmRFwJpmi49H+7z3S/cC3Y3d3qkQ2kR2I=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=dW4J2PxwmB832mnM4FzReat8EuyYpdAb80MfZLFu4gmf/pNfMLZb12a7IYhK0efFQ
	 8UMPsDwFHFOZ93RtfD498CobELoqfm3aeUYo8HDfb+OZMWm/X28QIOv8u9IYH+Jnon
	 myUj/hu6DUh2SimNXdaxIfYRFFxLoque0IZ+lHfM=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id A7942F80246;
	Sat, 10 Apr 2021 10:47:30 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 52283F8020B; Sat, 10 Apr 2021 10:47:28 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=SPF_HELO_NONE,SPF_NONE
 autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id A0819F80113
 for <alsa-devel@alsa-project.org>; Sat, 10 Apr 2021 10:47:23 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz A0819F80113
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
 by mx2.suse.de (Postfix) with ESMTP id A5993AFC1;
 Sat, 10 Apr 2021 08:47:22 +0000 (UTC)
Date: Sat, 10 Apr 2021 10:47:22 +0200
Message-ID: <s5hblam4jc5.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Takashi Sakamoto <o-takashi@sakamocchi.jp>
Subject: Re: [PATCH v3] ALSA: control: Add memory consumption limit to user
 controls
In-Reply-To: <20210410082016.GA10316@workstation>
References: <20210408103149.40357-1-o-takashi@sakamocchi.jp>
 <20210408105025.GB40407@workstation> <s5h1rbl80yy.wl-tiwai@suse.de>
 <20210409022735.GA3776@workstation> <s5h5z0v67wh.wl-tiwai@suse.de>
 <s5hsg3z4ezl.wl-tiwai@suse.de> <20210410082016.GA10316@workstation>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Cc: alsa-devel@alsa-project.org
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Sat, 10 Apr 2021 10:20:16 +0200,
Takashi Sakamoto wrote:
> 
> On Fri, Apr 09, 2021 at 06:09:02PM +0200, Takashi Iwai wrote:
> > On Fri, 09 Apr 2021 12:59:10 +0200,
> > Takashi Iwai wrote:
> > > 
> > > On Fri, 09 Apr 2021 04:27:35 +0200,
> > > Takashi Sakamoto wrote:
> > > > 
> > > > 4. Add `max_user_ctl_alloc_size` kobject attribute to the control device
> > > > 
> > > > In the patch, a new module parameter 'max_user_ctl_alloc_size' is added.
> > > > In the item, I use the value of this parameter as initial value per
> > > > control device. The value per control device can be changed via sysfs
> > > > node.
> > > > 
> > > > The `max_user_ctl_alloc_size` is really the attribute of control device,
> > > > so I think it acceptable. Additionally, 'curr_user_ctl_alloc_size' is
> > > > also added so that userspace applications get current status.
> > > 
> > > So that's the primary purpose?  Then it makes sense, yeah.
> > 
> > You meant something like below, right?
> 
> If you were carefully reading my items in the order, you would have
> realized that the patch includes problem to share attribute group
> table between several modules...

Which several modules...?  The control API is mandatory, hence it
can't be separated from each card core stuff.  So splitting to another
module makes no sense, as I already replied earlier.

> Device attribute is one of userspace interface expected to be stable. I'd
> like to avoid careless changes which our known developer tends to do.

Sure, it has to be set on stone once after put in the tree.
However, currently it's just a brain storming phase, and no need to
grumble for a dreadful future vision.


Takashi
