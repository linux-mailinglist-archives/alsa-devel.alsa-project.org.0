Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 5A5A82E839E
	for <lists+alsa-devel@lfdr.de>; Fri,  1 Jan 2021 13:10:56 +0100 (CET)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id DCA9016BB;
	Fri,  1 Jan 2021 13:10:00 +0100 (CET)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz DCA9016BB
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1609503050;
	bh=abB9+ckqQWwVbvyMr2Damuxp1597QFantb5Pp7OTL70=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=W4djJFYudGEsOlJNZ4NQtc4hD6dbtD3SYkRUhtd0oZATaHVGMUsauoAkggb8L8BJX
	 ihedVFTeak126ulZXZEK+4WgtJEGwlBgfoP/7LiwA2W+hbNnp8lk7zd1ONyFBrn05+
	 2VApODV5qadk2R7ooD5zPCwOHhMXFekJzXoXalCQ=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 28895F8020B;
	Fri,  1 Jan 2021 13:09:16 +0100 (CET)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 516CEF801F5; Fri,  1 Jan 2021 13:09:14 +0100 (CET)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=SPF_HELO_NONE,SPF_NONE
 autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id B1915F8012B
 for <alsa-devel@alsa-project.org>; Fri,  1 Jan 2021 13:09:10 +0100 (CET)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz B1915F8012B
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
 by mx2.suse.de (Postfix) with ESMTP id F3B0DAC42;
 Fri,  1 Jan 2021 12:09:09 +0000 (UTC)
Date: Fri, 01 Jan 2021 13:09:09 +0100
Message-ID: <s5h1rf4c10a.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Christian Labisch <clnetbox@gmail.com>
Subject: Re: Haswell audio no longer working with new Catpt driver
In-Reply-To: <088cd3b6ba6589266e316d6adcb76861edd18775.camel@gmail.com>
References: <8b005c64fe129fc2a283da90b2949b1fcb42e8c2.camel@gmail.com>
 <1ad341b1b0e0eefb83d157ac24d162eaad53ab32.camel@gmail.com>
 <0111f282-f044-47ed-f93e-5a19de61bdce@metafoo.de>
 <088cd3b6ba6589266e316d6adcb76861edd18775.camel@gmail.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Cc: gregkh@linuxfoundation.org,
 "alsa-devel@alsa-project.org" <alsa-devel@alsa-project.org>,
 Lars-Peter Clausen <lars@metafoo.de>, Takashi Iwai <tiwai@suse.com>,
 amadeuszx.slawinski@linux.intel.com
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Fri, 01 Jan 2021 12:10:23 +0100,
Christian Labisch wrote:
> 
> Hi Lars,
> 
> Thanks for your response, as requested I ran alsa-info while playing audio.
> Please check the attached information - to me it looks like it being a bug.
> It should affect many users, will it be solved in the next release 5.10.5 ?

It's likely some runtime PM-related changes that caused this behavior
change.  But, there must be some program that sets the power_save
option explicitly on your system.  As dmesg shows, the default
power_save to this device has been suppressed, but it's activated by
the later action.  On, 5.9.x, this didn't take effect, but on 5.10.x,
this became effective, as it seems.

You can try to pass power_save=0 option to snd-hda-intel module (or
boot with snd_hda_intel.power_save=0 boot option).  It could work
around the issue, although it's no solution.


thanks,

Takashi
