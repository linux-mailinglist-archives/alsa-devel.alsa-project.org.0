Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 2472C1B4E4F
	for <lists+alsa-devel@lfdr.de>; Wed, 22 Apr 2020 22:25:24 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id B49E116A9;
	Wed, 22 Apr 2020 22:24:33 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz B49E116A9
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1587587123;
	bh=nSHoD5R5XnFFR6Rz98j4QhvoxxJ61DndzPy3X6Q0JlE=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=jMwbrl8JUJmu+ylUUqo+7GVO2oeqFOPaIR6f/xjg4CaMkoUnhxC67MJ+IAsG2RMg+
	 4b1Sb7+1+rbcwolQiHCmmVUfMct8+O4fU8W5XdoC+i/oSvEyur7hQZwksYprgKqOcX
	 G9kPpBvMFi//7KK8yNfk2X5l6PIMXzLQ7ikcabWw=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id BD136F800FF;
	Wed, 22 Apr 2020 22:23:42 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id D0656F801D9; Wed, 22 Apr 2020 22:23:39 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 66AADF800F2
 for <alsa-devel@alsa-project.org>; Wed, 22 Apr 2020 22:23:36 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 66AADF800F2
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id E85D0AE9A;
 Wed, 22 Apr 2020 20:23:34 +0000 (UTC)
Date: Wed, 22 Apr 2020 22:23:34 +0200
Message-ID: <s5hh7xbxoah.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Jaroslav Kysela <perex@perex.cz>
Subject: Re: ASoC driver names
In-Reply-To: <c57f21dc-412d-3057-6150-b96d96a20727@perex.cz>
References: <c57f21dc-412d-3057-6150-b96d96a20727@perex.cz>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Cc: ALSA development <alsa-devel@alsa-project.org>,
 Mark Brown <broonie@kernel.org>,
 Srinivas Kandagatla <srinivas.kandagatla@linaro.org>,
 Pierre-louis Bossart <pierre-louis.bossart@linux.intel.com>
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Wed, 22 Apr 2020 19:04:36 +0200,
Jaroslav Kysela wrote:
> 
> Hi all,
> 
>   I am fighting actually with the ASoC driver names. The current
> situation, where each hardware variant (card name) is mapped to the
> driver name is not very practical (and not correct). The driver name
> should describe the common part (usually the controller - like
> 'HDA-Intel' or bus 'USB-Audio').
> 
>   I am talking about the situation, where the ASoC card name is set
> via the device tree (snd_soc_of_parse_card_name) like in [1], but the
> change may be considered for other drivers like Intel SST:
> 
> Card driver name: Lenovo-YOGA-C63
> Card name: Lenovo-YOGA-C630-13Q50
> Card long name: LENOVO-81JL-LenovoYOGAC630_13Q50-LNVNB161216
> 
> [1]
> https://github.com/alsa-project/alsa-tests/pull/3/commits/1b5a552cff06c6039fbcf41b3117fc73712010df
> 
>   My question is, can we change / add the more apropriate driver names
> conditionally with a new kernel CONFIG option? Will you accept this
> change?

It's a last resort, but it's more or less acceptable, IMO.

>   The goal is to group the related UCM2 configurations and do the
> required split inside the UCM2 top-level configuration file based on
> card components string or other card identificators (related to the
> driver).

Wasn't an idea to use the component string feasible?
e.g. if a driver sets a certain component string, it's preferred over
the standard driver name / long name mapping.


thanks,

Takashi
