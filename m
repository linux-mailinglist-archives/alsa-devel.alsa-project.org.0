Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 640D513553F
	for <lists+alsa-devel@lfdr.de>; Thu,  9 Jan 2020 10:12:01 +0100 (CET)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 07289176E;
	Thu,  9 Jan 2020 10:11:11 +0100 (CET)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 07289176E
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1578561121;
	bh=nl5laReps5GNSkrvtnPVqyk0u+BvUxhfK/5T0+ySYtU=;
	h=Date:From:To:In-Reply-To:References:Cc:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=qle52LxHgf+xtVq6PYCmJUp8RYgxILU7SuyDPzabeX+pVU8q+bFDnYm8jcrkYYegG
	 e7fdSLP5ozxpKd2bhqF6eAz0ngJopVkKUvz5Ima2zWsPq6a5P5BatZAmaui7WXrKsl
	 n7GHtxciCQZiUgzkBabnEppz9eFXKN9FV1JXdwX4=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 37457F801EB;
	Thu,  9 Jan 2020 10:10:17 +0100 (CET)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 59B40F8015B; Thu,  9 Jan 2020 10:10:14 +0100 (CET)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id BD961F800E4
 for <alsa-devel@alsa-project.org>; Thu,  9 Jan 2020 10:10:11 +0100 (CET)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz BD961F800E4
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 404E8BE5A;
 Thu,  9 Jan 2020 09:10:10 +0000 (UTC)
Date: Thu, 09 Jan 2020 10:10:09 +0100
Message-ID: <s5h8smhm1vy.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: dri-devel@lists.freedesktop.org
In-Reply-To: <20191210154536.29819-1-tiwai@suse.de>
References: <20191210154536.29819-1-tiwai@suse.de>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Cc: Jernej Skrabec <jernej.skrabec@siol.net>, alsa-devel@alsa-project.org,
 Jonas Karlman <jonas@kwiboo.se>, Neil Armstrong <narmstrong@baylibre.com>,
 Russell King <linux@armlinux.org.uk>, Andrzej Hajda <a.hajda@samsung.com>,
 Laurent Pinchart <Laurent.pinchart@ideasonboard.com>
Subject: Re: [alsa-devel] [PATCH for-5.6 0/2] drm/bridge: dw-hdmi: PCM API
	updates
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Tue, 10 Dec 2019 16:45:34 +0100,
Takashi Iwai wrote:
> 
> Hi,
> 
> this is a patch set for updating ALSA PCM API usages in dw-hdmi
> driver.  I already tried to "fix" the driver some time ago but it was
> utterly wrong.  So this is a combination of the revised patch and
> another cleanup patch.
> 
> The first one is to change the buffer allocation mechanism in the
> driver to the manual allocation of the h/w buffer and the automatic
> allocation of PCM stream buffers via the new standard API.  The
> significant change is that size of the h/w buffer isn't no longer
> controlled via ALSA preallocation proc file but rather via the new
> module option (if any).
> 
> The second one is a oneliner patch just to remove the superfluous PCM
> ops.
> 
> Both need the ALSA PCM core changes in 5.5-rc1, so please apply them
> on top of 5.5-rc1 or later.  Or, just let me know if I should apply
> them through sound git tree.
> 
> 
> thanks,
> 
> Takashi
> 
> ===
> 
> Takashi Iwai (2):
>   drm/bridge: dw-hdmi: Follow the standard ALSA memalloc way
>   drm/bridge: dw-hdmi: Drop superfluous ioctl PCM ops

Any chance for reviewing these patches?

Since this driver is the only one who is still using the old ALSA
vmalloc API, I'd like to change it and drop the old API in 5.6.


thanks,

Takashi
_______________________________________________
Alsa-devel mailing list
Alsa-devel@alsa-project.org
https://mailman.alsa-project.org/mailman/listinfo/alsa-devel
