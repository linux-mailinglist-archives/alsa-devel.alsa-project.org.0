Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 75230E4F20
	for <lists+alsa-devel@lfdr.de>; Fri, 25 Oct 2019 16:30:01 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id E6E081824;
	Fri, 25 Oct 2019 16:29:10 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz E6E081824
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1572013801;
	bh=5Z7igvQH6fCGUYbfa/u2oVDYkcwQWuBKzjhVOTJBsAQ=;
	h=Date:From:To:In-Reply-To:References:Cc:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=q/KIBzGJA1mVucTEU/0h57vAvpaShzrDxiVX6b9OJ835UaveFFoU+hHHyMjJuKDbZ
	 ERtGXdlrqySp487bSqc9T+kpxF4Tbewutj7+b1cCQ1RGU6MyE2tJns2s3VRDFpx3qH
	 BHudcarDyktI99MMFEidV0zVvL93CxHJym+AWTwk=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id A6450F8036F;
	Fri, 25 Oct 2019 16:28:34 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id 6132EF803A6; Fri, 25 Oct 2019 16:28:30 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: *
X-Spam-Status: No, score=1.0 required=5.0 tests=PRX_BODY_30,SPF_HELO_NONE,
 SPF_PASS,SURBL_BLOCKED,URIBL_BLOCKED autolearn=disabled version=3.4.0
Received: from mx1.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 99767F802A0
 for <alsa-devel@alsa-project.org>; Fri, 25 Oct 2019 16:28:27 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 99767F802A0
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx1.suse.de (Postfix) with ESMTP id 7FC5FBC2C;
 Fri, 25 Oct 2019 14:28:26 +0000 (UTC)
Date: Fri, 25 Oct 2019 16:28:26 +0200
Message-ID: <s5hwocsucfp.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Jaroslav Kysela <perex@perex.cz>
In-Reply-To: <9403a6a7-9b7e-c2a4-5acf-50d6cbaea7c7@perex.cz>
References: <20191025123038.19728-1-perex@perex.cz>
 <s5hk18tuhio.wl-tiwai@suse.de>
 <bce57a56-99d0-62d7-1d53-099a75349341@perex.cz>
 <s5h36fgvs0m.wl-tiwai@suse.de>
 <9403a6a7-9b7e-c2a4-5acf-50d6cbaea7c7@perex.cz>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Cc: ALSA development <alsa-devel@alsa-project.org>,
 Mark Brown <broonie@kernel.org>,
 Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Subject: Re: [alsa-devel] [PATCH] ASoC: change 'HDMI/DP, pcm=' to 'HDMI/DP,
	pcm=' Jack control names
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Fri, 25 Oct 2019 16:18:20 +0200,
Jaroslav Kysela wrote:
> 
> Dne 25. 10. 19 v 16:06 Takashi Iwai napsal(a):
> > On Fri, 25 Oct 2019 15:57:50 +0200,
> > Jaroslav Kysela wrote:
> >>
> >> Dne 25. 10. 19 v 14:38 Takashi Iwai napsal(a):
> >>> On Fri, 25 Oct 2019 14:30:38 +0200,
> >>> Jaroslav Kysela wrote:
> >>>>
> >>>> There is an inconsistency in the names for the HDMI/DP Jack control
> >>>> names between some ASoC drivers and the HDA HDMI driver which
> >>>> introduced this naming in 2011.
> >>>>
> >>>> There might be an impact for the user space (UCM). I will fix
> >>>> the UCM configurations when this patch is applied.
> >>>>
> >>>> Signed-off-by: Jaroslav Kysela <perex@perex.cz>
> >>>> Cc: Mark Brown <broonie@kernel.org>
> >>>> Cc: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
> >>>
> >>> Yes, that's a known problem, and I left them so far just for keeping
> >>> the already existing stuff working.
> >>>
> >>> Won't this break the current Chromebooks user-space?
> >>
> >> I would really expect to upgrade UCM configs for the recent kernels in
> >> this case. I believe, those sort of issues are better to fix early
> >> than lately. I know, the transition might cause a little issues, but
> >> usually "do upgrade answer" will help. I don't think that we speak
> >> about a large group of users here.
> >
> > Well, that's obviously against our dont-breaking-user-space rule.
> > The UCM profiles have been widely used on Chromebooks, and they can't
> > upgrade easily.
> >
> > So, I believe this is a case where we have to live with messes.
> 
> If we speak about Google's kernels, they can apply a revert (depends
> on their upgrade/maintenance policy). If users use the standard Linux
> distributions, then we are fine, don't we?

No, we can't break the already existing user-space.  That's what Linus
suggested repeatedly over years, too.

> I would make an exception for the dont-breaking-user-space policy in
> this case. I am sure that the UCM configs will stabilize quickly. And
> this bad jack name is against our control name policy. It's just a
> bug.

There is no exception for that, it's a so simple rule.  If something
gets *practically* broken by the kernel, it's no-go.  User-space is
user-space, and it doesn't matter whether it's upstream or not.

And, even if everything is upstream, imagine that user installs two
different kernels, and switches with each other occasionally for
whatever reason.  The UCM upgrade solution won't work, either.


thanks,

Takashi
_______________________________________________
Alsa-devel mailing list
Alsa-devel@alsa-project.org
https://mailman.alsa-project.org/mailman/listinfo/alsa-devel
