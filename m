Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id E0C88161D2D
	for <lists+alsa-devel@lfdr.de>; Mon, 17 Feb 2020 23:09:04 +0100 (CET)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 86116168F;
	Mon, 17 Feb 2020 23:08:14 +0100 (CET)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 86116168F
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1581977344;
	bh=8OVASzovetVk4cPnnMsFxkB7DqyRjcyr8ESREWAbuFA=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=EKkEXU44SxdtWQOtDnfzbdyB0F/h1rVk8b0QRC3hiA9dcVemTTxZo6KzGVwdwjgia
	 7yT6HpTiB8RRzgxZqcC9nqFY+uunjPgKLAeFj3vX0RlMrP4GcavFRqcT7BaZxxVvuN
	 0mDbzy/HUogFLoEtmYz64NwAkOPuxnvWObW908sU=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 81D66F802A1;
	Mon, 17 Feb 2020 23:05:12 +0100 (CET)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id C4D6AF802A0; Mon, 17 Feb 2020 23:05:10 +0100 (CET)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=-0.0 required=5.0 tests=RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 355D0F8015E
 for <alsa-devel@alsa-project.org>; Mon, 17 Feb 2020 23:05:07 +0100 (CET)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 355D0F8015E
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.220.254])
 by mx2.suse.de (Postfix) with ESMTP id 22353ADEB;
 Mon, 17 Feb 2020 22:05:07 +0000 (UTC)
Date: Mon, 17 Feb 2020 23:05:06 +0100
Message-ID: <s5h1rqsc1kd.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: =?UTF-8?B?QXVyw6lsaWVu?= Croc <aurelien@ap2c.com>
Subject: Re: [alsa-devel] No sound with Realtek ALC298 on a Samsung Galaxy book
In-Reply-To: <5023991.OkN0jAucn1@antimony.ap2c.org>
References: <1610933.XPBrhYXKCp@antimony.ap2c.org>
 <2757884.e1HrdM282F@antimony.ap2c.org>
 <s5hd0adfapa.wl-tiwai@suse.de>
 <5023991.OkN0jAucn1@antimony.ap2c.org>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Cc: alsa-devel@alsa-project.org, Kailang <kailang@realtek.com>
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Mon, 17 Feb 2020 20:01:05 +0100,
AurÃ©lien Croc wrote:
> 
> > Sometimes you have some data in *.INF file or such.  At least, if the
> > standard Windows driver (not the h/w vendor's one) works, the extra
> > configuration is usually put there.
> 
> The Windows driver is the one provided by Realtek. The manufacturer ID is 
> "INTELAUDIO\FUNC_01&VEN_10EC&DEV_0298&SUBSYS_144DC14F".
> I looked into the INF file which corresponds to this driver but I'm not sure 
> to understand it. There is a specific section attached to this device which 
> looks like:
> [CusEffectSettingsMaxim.AddReg]
> HKR,SSTPPCfg\{C75061F3-F2B2-4DCC-8F9F-82ABB4131E66}\SPK\EFX,16777217, 1, 
> 1,0,0,1,1,0,0,0
> HKR,SSTPPCfg\{C75061F3-F2B2-4DCC-8F9F-82ABB4131E66}\SPK\EFX,16777218, 1, 
> 2,0,0,1,0,0,80,2
> ....
> 
> I don't know if the solution is in these lines or not..
> 
> 
> > Also, when you test the sound, don't use PulseAudio but test directly
> > with ALSA native apps (e.g. aplay with -Dhw:0 or -Dplughw:0, etc).
> > You can use speaker-test program, too.
> 
> I tried again all the channels with headphone only by using only ALSA and not 
> pulseaudio. There is no sound at all.
> Note that the internal microphone and the microphone of my headphone when it's 
> plugged in works very well..

Aha, so the input works but only the output doesn't?
Then it's not about the basic stuff like pin configuration but rather
the missing COEF setup or such that is specific to Realtek codec
(and/or the Samsung platform).

Kailang, do you have any clue?


thanks,

Takashi


> 
> > And always try a headphone output at first.  The headset mic might not
> > work, but the headphone output is usually the easiest one to get
> > working.
> 
> 
> Thank you for your help. I hope we'll find the problem..
> 
> 
> 
