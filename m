Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id 27A3E9E2AF
	for <lists+alsa-devel@lfdr.de>; Tue, 27 Aug 2019 10:30:39 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id AA15D166B;
	Tue, 27 Aug 2019 10:29:48 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz AA15D166B
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1566894638;
	bh=cNYsz6JCZguY52WFpLNTiZJmYL5CVgYYLrjwqPD0RSg=;
	h=Date:From:To:In-Reply-To:References:Cc:Subject:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=RmN6NpqlsIDZy2Ckdqtuc66XNqavWQp6l5RahrhapVNq7Nk72Z8NlkeSXpeZqDrpT
	 rI88zN8WUBhoz1RJYJsrJNhuw5lKPGGg0loRVSqxRp04gmoPYJ3BKwoMuQLDSw2Eu/
	 3AtdqaEsCvrVut5M4SEvHyme7e134nKpUhnXoIK8=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 7AA7EF802A1;
	Tue, 27 Aug 2019 10:28:55 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id C03A4F80274; Tue, 27 Aug 2019 10:28:47 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=SPF_HELO_NONE,SPF_PASS
 autolearn=disabled version=3.4.0
Received: from relmlie6.idc.renesas.com (relmlor2.renesas.com
 [210.160.252.172])
 by alsa1.perex.cz (Postfix) with ESMTP id 9CAA5F800E7
 for <alsa-devel@alsa-project.org>; Tue, 27 Aug 2019 10:28:40 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 9CAA5F800E7
Date: 27 Aug 2019 17:28:37 +0900
X-IronPort-AV: E=Sophos;i="5.64,436,1559487600"; d="scan'208";a="24816087"
Received: from unknown (HELO relmlir6.idc.renesas.com) ([10.200.68.152])
 by relmlie6.idc.renesas.com with ESMTP; 27 Aug 2019 17:28:37 +0900
Received: from morimoto-PC.renesas.com (unknown [10.166.18.140])
 by relmlir6.idc.renesas.com (Postfix) with ESMTP id 5F6E541FA635;
 Tue, 27 Aug 2019 17:28:37 +0900 (JST)
Message-ID: <87h863583y.wl-kuninori.morimoto.gx@renesas.com>
From: Kuninori Morimoto <kuninori.morimoto.gx@renesas.com>
To: Eugeniu Rosca <erosca@de.adit-jv.com>
In-Reply-To: <20190827074817.GA27667@vmlxhi-102.adit-jv.com>
References: <877ebi1v1e.wl-kuninori.morimoto.gx@renesas.com>
 <20190826093032.GA24143@vmlxhi-102.adit-jv.com>
 <87lfvf5to9.wl-kuninori.morimoto.gx@renesas.com>
 <20190827074817.GA27667@vmlxhi-102.adit-jv.com>
User-Agent: Wanderlust/2.15.9 Emacs/24.5 Mule/6.0
MIME-Version: 1.0 (generated by SEMI-EPG 1.14.7 - "Harue")
Cc: Timo Wischer <twischer@de.adit-jv.com>,
 Linux-ALSA <alsa-devel@alsa-project.org>,
 Andrew Gabbasov <andrew_gabbasov@mentor.com>,
 Eugeniu Rosca <roscaeugeniu@gmail.com>, Jiada Wang <jiada_wang@mentor.com>,
 Mark Brown <broonie@kernel.org>, Joshua Frkuska <joshua_frkuska@mentor.com>
Subject: Re: [alsa-devel] [PATCH] ASoC: rsnd: fixup 6ch settings to 8ch
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Content-Type: text/plain; charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>


Hi Eugeniu

> However, my question touched a different aspect of the patch.
> The comment added by commit [1] and preserved by commit [2] both
> suggest that is solely 'TDM Extend' mode which needs 6-to-8 channel
> adjustment. Your comment sounds like this also applies to 'TDM Split'?
>
> Or for 'TDM Split' we only care to sanitize the channel value
> (i.e. make sure it is in the 0..8 range)?

For "TDM Extend mode", we need to use 8ch clock for 6ch sound.
See Figure 41.12 =

	"TDM Extend Mode Operation with 8-channel Data in Serial Bus
	 and 6-channel Data Inside the SoC (SSI0)"

For "TDM Split mode", it is 4ch or 8ch (4ch is not supported on this driver=
).
See Figure 41.17
	"TDM Split Mode (Stereo =D7 4)"

Around here is very confusable, thus,
Unfortunately, it is not perfect implementation.
It works for existing Renesas board, but maybe just luck (?).

Thank you for your help !!
Best regards
---
Kuninori Morimoto
_______________________________________________
Alsa-devel mailing list
Alsa-devel@alsa-project.org
https://mailman.alsa-project.org/mailman/listinfo/alsa-devel
