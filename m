Return-Path: <alsa-devel-bounces@alsa-project.org>
X-Original-To: lists+alsa-devel@lfdr.de
Delivered-To: lists+alsa-devel@lfdr.de
Received: from alsa0.perex.cz (alsa0.perex.cz [77.48.224.243])
	by mail.lfdr.de (Postfix) with ESMTPS id BE6DF207969
	for <lists+alsa-devel@lfdr.de>; Wed, 24 Jun 2020 18:45:40 +0200 (CEST)
Received: from alsa1.perex.cz (alsa1.perex.cz [207.180.221.201])
	(using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
	(No client certificate requested)
	by alsa0.perex.cz (Postfix) with ESMTPS id 3FBBF1882;
	Wed, 24 Jun 2020 18:44:50 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa0.perex.cz 3FBBF1882
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=alsa-project.org;
	s=default; t=1593017140;
	bh=TiSxNOurw1zh6pEjhIlo3OS52ECzb6DUQUTPbkKxozU=;
	h=Date:From:To:Subject:In-Reply-To:References:Cc:List-Id:
	 List-Unsubscribe:List-Archive:List-Post:List-Help:List-Subscribe:
	 From;
	b=HXXWEcvACPxwTLTv9w5oTl1flbFILtCfAi413cBVjhfZ65x8foGKe7M/0Zxjf9hzA
	 jZclFHQu9NpRs+bj4HezDVFqRV4MXwfM9tGWIPkNJk0aD6pspZkat/TWozYV3bqcxk
	 +5rP7c/mJtnTDHYF0lGmuo/lPRykkUbBrCBdN6V8=
Received: from alsa1.perex.cz (localhost.localdomain [127.0.0.1])
	by alsa1.perex.cz (Postfix) with ESMTP id 649FCF80084;
	Wed, 24 Jun 2020 18:43:59 +0200 (CEST)
X-Original-To: alsa-devel@alsa-project.org
Delivered-To: alsa-devel@alsa-project.org
Received: by alsa1.perex.cz (Postfix, from userid 50401)
 id D6F21F8015B; Wed, 24 Jun 2020 18:43:55 +0200 (CEST)
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on alsa1.perex.cz
X-Spam-Level: 
X-Spam-Status: No, score=0.0 required=5.0 tests=RCVD_IN_MSPIKE_H3,
 RCVD_IN_MSPIKE_WL,SPF_HELO_NONE,SPF_PASS autolearn=disabled version=3.4.0
Received: from mx2.suse.de (mx2.suse.de [195.135.220.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by alsa1.perex.cz (Postfix) with ESMTPS id 17D6EF800B2
 for <alsa-devel@alsa-project.org>; Wed, 24 Jun 2020 18:43:52 +0200 (CEST)
DKIM-Filter: OpenDKIM Filter v2.11.0 alsa1.perex.cz 17D6EF800B2
X-Virus-Scanned: by amavisd-new at test-mx.suse.de
Received: from relay2.suse.de (unknown [195.135.221.27])
 by mx2.suse.de (Postfix) with ESMTP id C0E54AD3A;
 Wed, 24 Jun 2020 16:43:51 +0000 (UTC)
Date: Wed, 24 Jun 2020 18:43:52 +0200
Message-ID: <s5ho8p8ifcn.wl-tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
To: Pierre-Louis Bossart <pierre-louis.bossart@linux.intel.com>
Subject: Re: [PATCH] ALSA: hda/hdmi: Add Intel silent stream support
In-Reply-To: <7dd38f98-e74a-94c0-6888-523e6189c00b@linux.intel.com>
References: <1592954796-12449-1-git-send-email-harshapriya.n@intel.com>
 <s5hr1u4lxee.wl-tiwai@suse.de>
 <f2da25c0-c740-4d44-ab66-6017622f7dde@perex.cz>
 <7dd38f98-e74a-94c0-6888-523e6189c00b@linux.intel.com>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
Cc: Harsha Priya <harshapriya.n@intel.com>, kai.vehmanen@intel.com,
 alsa-devel@alsa-project.org, Emmanuel Jillela <emmanuel.jillela@intel.com>
X-BeenThere: alsa-devel@alsa-project.org
X-Mailman-Version: 2.1.15
Precedence: list
List-Id: "Alsa-devel mailing list for ALSA developers -
 http://www.alsa-project.org" <alsa-devel.alsa-project.org>
List-Unsubscribe: <https://mailman.alsa-project.org/mailman/options/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=unsubscribe>
List-Archive: <http://mailman.alsa-project.org/pipermail/alsa-devel/>
List-Post: <mailto:alsa-devel@alsa-project.org>
List-Help: <mailto:alsa-devel-request@alsa-project.org?subject=help>
List-Subscribe: <https://mailman.alsa-project.org/mailman/listinfo/alsa-devel>, 
 <mailto:alsa-devel-request@alsa-project.org?subject=subscribe>
Errors-To: alsa-devel-bounces@alsa-project.org
Sender: "Alsa-devel" <alsa-devel-bounces@alsa-project.org>

On Wed, 24 Jun 2020 17:33:45 +0200,
Pierre-Louis Bossart wrote:
> 
> 
> >>> The silent stream is enabled with a Kconfig option, as well as a kernel
> >>> parameter should there be a need to override the build time default.
> >>
> >> I'm not sure whether the module option is the best interface.
> >> An alternative is a mixer element that controls dynamically.Â  Then
> >> it'll be per card unlike the module option.
> >
> > +1, kcontrol seems the appropriate way to control this.
> 
> It was my suggestion to use Kconfig+kernel parameter for
> simplicity/overrides.
> 
> The kcontrol is a nice idea, but in practice we typically only have
> one card dealing with HDMI.

Not really.  There are systems with two HDMI outputs from both
integrated and discrete GPUs.  Most modern systems are only with
hybrid graphics, though.

> It also doesn't have a UCM representation
> so would force the use of amixer and manual configs, or the UCM file
> would always set the mode.

But people usually use the distro kernels, so the situation is more or
less equivalent; you'd have to adjust a module option manually if you
want a different one from the default, and you'd have to be root to
change it.

So, rather the question is how we should provide the setup of such
parameter.  It's supposed to be a part of power management stuff that
should be touched by either a smart PM tool or a manual override such
as runtime PM setup?  Or can it be seen as a more casual tuning?


Takashi
